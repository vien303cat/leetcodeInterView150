<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>45_Jump Game II</title>

    <!--
        45. Jump Game II
        Medium
        Topics
        Companies
        You are given a 0-indexed array of integers nums of length n. You are initially positioned at nums[0].

        Each element nums[i] represents the maximum length of a forward jump from index i. In other words, if you are at nums[i], you can jump to any nums[i + j] where:

        0 <= j <= nums[i] and
        i + j < n
        Return the minimum number of jumps to reach nums[n - 1]. The test cases are generated such that you can reach nums[n - 1].



        Example 1:

        Input: nums = [2,3,1,1,4]
        Output: 2
        Explanation: The minimum number of jumps to reach the last index is 2. Jump 1 step from index 0 to 1, then 3 steps to the last index.
        Example 2:

        Input: nums = [2,3,0,1,4]
        Output: 2


        Constraints:

        1 <= nums.length <= 104
        0 <= nums[i] <= 1000
        It's guaranteed that you can reach nums[n - 1].
    -->


</head>
<body>
    <script>

        /**
         * @param {number[]} nums
         * @return {number}
         */
        var jump = function(nums) {
                //總共需要跳幾格
                const total  = nums.length - 1 ;
                // 下次跳躍
                let nextJump = 0 ;
                // 暫存跳躍值
                let JumpVal = 0 ;
                let cnt = 0 ;
                let i = 0 ;
                // console.log(total);
                while(i < total){

                    cnt++;
                    // console.log('cnt='+cnt);
                    nextJump = 0 ;
                    JumpVal  = 0 ;

                    //分算跳到哪下一步可以跳最大格
                    for(let j = 1 ; j <= nums[i] ; j++){
                        // 儲存下次可跳躍最大格數的次序
                        if(j + nums[i+j] > JumpVal ){
                            JumpVal  = j + nums[i+j] ;
                            nextJump = j ; 
                        }
                    }
                
                    if(nums[i] >= total - i ){
                        // console.log('break!');
                        // console.log(`nums[i] > total - i : ${nums[i]} > ${total} - ${i} `);
                        break;
                    }
                    // 跳格
                    i += nextJump ;
                    
                }
                console.log('cnt='+cnt);
            };

            jump([2,3,1]);

    </script>
    
</body>
</html>